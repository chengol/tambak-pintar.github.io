import React, {useState} from 'react'
import {Link} from 'gatsby'
import {
    Flex,
    Box,
    Heading,
    Text,
    Button,
    Spacer
} from '@chakra-ui/core'

const MenuItems = props => {
    const {
        children,
        isLast,
        ...rest
    } = props;
    return (
        <Text
            mt={{
            base: isLast
                ? 0
                : 8,
            sm: 0,
            md: 0
        }}
            mr={{
            base: 0,
            sm: isLast
                ? 0
                : 8
        }}
            display="block"
            {...rest}>
            {children}
        </Text>

    )
}

const Header = props => {

    const [show,
        setShow] = useState(false);
    const toggleMenu = () => setShow(!show);

    return (
        <Flex
            as="nav"
            align="center"
            justify="space-between"
            wrap="wrap"
            w="100%"
            mb={5}
            p={8}
            bg="blue.500"
            color="white"
            {...props}>
            <Flex align="center" mr={5}>
                <Heading as="h1" size="lg">
                    <Link to="/">
                        <svg
                            width="75"
                            height="20"
                            viewBox="0 0 128 34"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M112.84 4.94814C112.461 5.83955 112.122 6.63657 111.786 7.43621C109.397 13.0993 107.014 18.7623 104.622 24.4254C103.566 26.9239 102.499 29.4146 101.432 31.9079C101.33 32.1491 101.211 32.3825 101.08 32.6106C100.318 33.9267 98.4021 33.4757 97.8686 32.6079C97.6531 32.2566 97.661 31.8817 97.7898 31.5199C98.0342 30.8408 98.2996 30.1697 98.5834 29.5064C102.323 20.8571 106.065 12.2079 109.81 3.56122C110.125 2.83237 110.44 2.10089 110.795 1.38777C111.515 -0.0568351 113.665 -0.0542133 114.479 0.852923C114.761 1.16754 115 1.54245 115.168 1.93047C117.367 6.98002 119.551 12.0348 121.74 17.0896C123.646 21.4916 125.553 25.8909 127.456 30.2929C127.637 30.715 127.798 31.1476 127.926 31.5881C128.108 32.2094 127.945 32.6341 127.43 33.0222C126.702 33.5701 125.611 33.5963 124.975 33.0274C124.733 32.8124 124.542 32.5109 124.41 32.212C123.356 29.7948 122.313 27.3696 121.283 24.9418C119.17 19.9474 117.068 14.9476 114.963 9.9505C114.311 8.40627 113.662 6.86467 113.01 5.32044C112.974 5.21819 112.929 5.12905 112.84 4.94814Z"
                                fill="white"/>
                            <path
                                d="M43.1825 4.96903C43.0748 5.19975 42.9933 5.3623 42.9223 5.53271C40.2498 11.8696 37.5772 18.209 34.9021 24.5459C33.8746 26.9763 32.8365 29.4014 31.8012 31.8292C31.6987 32.0704 31.5778 32.3011 31.4569 32.5344C30.7395 33.9135 28.7975 33.5176 28.2141 32.6236C28.0091 32.309 27.9776 31.9576 28.0985 31.6273C28.3902 30.8224 28.6976 30.0201 29.0366 29.2336C32.9495 20.1806 36.8703 11.1302 40.7885 2.0772C41.0092 1.56596 41.2536 1.07306 41.6978 0.70077C42.5439 -0.00448966 44.5621 -0.0464382 45.2769 1.45584C45.6869 2.31579 46.06 3.19408 46.4384 4.06714C49.9388 12.1475 53.4365 20.2278 56.9342 28.3081C57.3126 29.1812 57.691 30.0569 58.0563 30.9378C58.1588 31.1868 58.235 31.4516 58.2876 31.7164C58.4058 32.3221 58.2192 32.7494 57.6832 33.0719C56.6872 33.6723 55.3365 33.5963 54.7793 32.288C53.9305 30.2954 53.0476 28.316 52.204 26.3182C49.2503 19.3259 46.3071 12.3284 43.3612 5.33346C43.3192 5.23383 43.264 5.13682 43.1825 4.96903Z"
                                fill="white"/>
                            <path
                                d="M67.3458 16.7041C67.3458 11.7856 67.3405 6.86719 67.3484 1.94873C67.351 0.527723 68.7412 -0.240459 69.9868 0.462178C70.4283 0.711248 70.6254 1.12025 70.6989 1.59217C70.7515 1.92251 70.7646 2.26072 70.7646 2.59369C70.7673 11.6755 70.7673 20.7548 70.7673 29.8366C70.7673 30.395 70.7673 30.395 71.3428 30.395C76.1255 30.395 80.9083 30.3924 85.691 30.3977C86.0353 30.3977 86.3874 30.4186 86.7211 30.4921C87.386 30.6389 87.7329 31.2078 87.6724 31.9838C87.6199 32.6498 87.1626 33.1296 86.5109 33.1794C86.0721 33.2135 85.6306 33.2397 85.1917 33.2397C79.9254 33.2449 74.6592 33.2423 69.3955 33.2397C69.1353 33.2397 68.8699 33.2161 68.615 33.1663C67.8792 33.0247 67.3904 32.4296 67.351 31.6456C67.3431 31.4674 67.3431 31.2891 67.3431 31.1108C67.3431 26.3077 67.3431 21.5046 67.3431 16.7015C67.3405 16.7041 67.3431 16.7041 67.3458 16.7041Z"
                                fill="white"/>
                            <path
                                d="M14.4939 12.5543C14.4939 9.02011 14.4913 5.48595 14.4965 1.95179C14.4965 1.32256 14.6831 0.753636 15.2901 0.452131C15.9313 0.132273 16.5909 0.153247 17.2164 0.520297C17.6079 0.751014 17.7682 1.14428 17.8471 1.56377C17.8996 1.83905 17.9128 2.12745 17.9128 2.40798C17.9154 9.41338 17.9417 16.4188 17.9022 23.4242C17.8865 26.1902 17.0429 28.6835 15.0011 30.6629C13.5584 32.063 11.8135 32.8888 9.85306 33.269C7.81645 33.6649 5.7851 33.6439 3.78266 33.0592C2.76567 32.763 1.8354 32.2806 0.997104 31.6304C0.497807 31.245 0.179834 30.7678 0.287577 30.094C0.43211 29.1947 1.1758 28.7097 2.043 29.0007C2.42667 29.1292 2.79457 29.3258 3.14145 29.5356C4.6262 30.4322 6.22133 30.7966 7.95573 30.6603C9.35901 30.5502 10.6598 30.191 11.7924 29.3337C13.1668 28.2928 13.9131 26.8587 14.2258 25.2044C14.3861 24.3549 14.4702 23.4819 14.4781 22.6193C14.507 19.2634 14.4886 15.9075 14.4886 12.5517C14.4913 12.5543 14.4913 12.5543 14.4939 12.5543Z"
                                fill="white"/>
                        </svg>
                    </Link>
                </Heading>
            </Flex>

            <Box
                display={{
                sm: "block",
                md: "none"
            }}
                onClick={toggleMenu}>
                <svg
                    className="h-8 w-8 fill-current"
                    viewBox="0 0 100 80"
                    width="40"
                    height="40">
                    <rect width="100" height="20"></rect>
                    <rect y="30" width="100" height="20"></rect>
                    <rect y="60" width="100" height="20"></rect>
                    <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
                </svg>
            </Box>

            <Box
                display={{
                base: show
                    ? "block"
                    : "none",
                md: "block"
            }}
                flexBasis={{
                base: "100%",
                md: "auto"
            }}>
                <Flex
                    align={["center", "center", "center", "center"]}
                    justify={["center", "space-between", "flex-end", "flex-end"]}
                    direction={["column", "row", "row", "row"]}
                    pt={[4, 4, 0, 0]}>
                    <MenuItems>
                        <Link to="/app">Peta</Link>
                    </MenuItems>
                    <MenuItems>
                        <Link to="/app-cluster">Peta clustering (airtable grapQL)</Link>
                    </MenuItems>
                    <MenuItems>
                        <Link to="/app-dynamic-data">Peta clustering (dynamic update)</Link>
                    </MenuItems>
                    <MenuItems>
                        <Button bg="transparent" border="1px" isLast>
                            buat akun
                        </Button>
                    </MenuItems>
                </Flex>
            </Box>
        </Flex>
    )
}

export default Header;
